## static、final和常量设计
### static
静态的，Java中特殊的关键字

作用范围
- 变量
  - 只依赖于类存在（通过类即可访问），不依赖于对象实例存在
- 方法
  - 无需通过对象来引用，通过类名可以直接引用
  - 静态方法只能使用静态变量
  - 静态方法禁止引用非静态方法
- 类
- static 方法块
  - 只在类第一次被加载时调用
  - 执行顺序:static块>匿名块>构造函数

### 单例模式
单态模式，Singleton
- 限定某一个类在整个程序运行过程中，只能保留一个实例对象在内存空间
- 采用static来共享对象实例
- 采用private构造函数，防止外界new操作

### final
- 类
  - 不能被继承
- 方法
  - 父类final方法，子类不能改写此方法
- 字段
  - final的变量，不能再次赋值
  - 如果是对象实例，不能修改其指针

### 常量设计和常量池
常量：不会修改的变量
- 不能修改，final
- 不会修改/只读/只要一份，static
- 方便访问，public
- 常量：`public static final`
- 名字全大写，连字符相连
- 接口内定义的变量默认都是常量

包装类：
- Boolean、Byte、Character、Short、Integer、Long、Float、Double

常量池
- 很多基本类型的包装类/字符串都建立常量池
- 相同的值只存储一份，节省内存，共享访问
- Boolean:true，false
- Byte:-128~127
- Character:0~127
- Short,Integer,Long:-128~127
- Float,Double:没有常量池
- 常量字符串有建立常量池

两种创建方式
- 常量式赋值创建，放在栈内存（被常量化）
- new对象创建，放在堆内存（不被常量化）

包装类
- 与基本类型比较，包装类自动拆箱
- 常量式赋值创建，自动装箱
- 基本运算操作会自动拆箱
字符串类常量池
- 涉及到变量，编译器不会优化，不会共享内存
- 只有确定的字符串常量才会自动优化

### 不可变对象和字符串
不可变对象
- 一旦创建，这个对象（状态/值）不能被更改了
- 八个基本型别的包装类
- String、BigInteger和BigDecimal

创建immutable对象
- 有改变需要clone
- 所有属性都是final和private
- 不提供setter方法
- 类是final的，或者所有方法都是final
- 类中包含mutable对象，那么返回拷贝需要深度clone

immutable对象
- 优点
  - 只读，线程安全
  - 并发读，提高性能
  - 可以重复使用
- 缺点
  - 制造垃圾，浪费空间

字符串
- 不可变对象
- 定义方式
  - 常量赋值，栈内存
  - new对象，堆内存
- 字符串内容比较：equals方法
- 指针比较：==
- 加法效率差，使用StringBuffer/StringBuilder的append方法修改